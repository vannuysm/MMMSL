@model EditGoalModel

<form class="form mb-4" asp-action="Goal" asp-route-id="@Model.Game.Id" method="post">
    <fieldset>
        <legend>Goals</legend>
        
        <div class="d-flex justify-content-between">
            <select asp-for="PlayerId" asp-items="Model.Players" class="form-control mr-2"></select>
            <input asp-for="Count" class="form-control mr-2" min="1" placeholder="# of Goals" />
            <button type="submit" class="btn btn-success"><span class="icon icon-save"></span> Save</button>
        </div>
    </fieldset>
                
    <input name="TeamId" type="hidden" value="@Model.TeamId" />
</form>

<ul class="list-group list-group-flush">
    @if (Model.Game.TeamGoalTotal(Model.TeamId) == 0) {
        <li class="list-group-item">
            <p class="card-text">
                <span class="icon icon-emoji-sad mr-1"></span>
                None
            </p>
        </li>
    }

    @foreach (var goal in Model.Game.TeamGoals(Model.TeamId).OrderByDescending(g => g.Count)) {
        <li class="list-group-item justify-content-start">
            <span class="badge badge-default mr-2">@goal.Count</span>
            @goal.Player.FullName

            <button type="button" class="btn btn-sm btn-danger ml-auto" data-toggle="modal" data-target="#delete-confirmation" data-target-form="#form-delete-goal-@goal.Id"><span class="icon icon-erase"></span> Delete</button>
            <form class="hidden-xs-up" id="form-delete-goal-@goal.Id" asp-action="DeleteGoal" asp-route-id="@goal.Id"></form>
        </li>
    }
</ul>
